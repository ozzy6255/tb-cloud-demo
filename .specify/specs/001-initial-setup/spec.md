# 功能规格: 云端数据库与查询界面

## 1. 目标描述
目标是将遗留数据库（最初是 SQL Server）和新的查询界面部署到免费的云服务上。
本项目同时也是一个用户的学习平台（"用户是学生，智能体是老师"）。
我们将从本地部署（Docker + Web 应用）开始，然后迁移到云端。

## 2. 用户故事
### 2.1 数据库部署
- 作为用户，我希望数据库 (TB_Restored/TBJD_Restored) 运行在可通过互联网访问的云环境中。
- 作为用户，我希望能使用免费层（例如腾讯云 MySQL/Postgres，或 Azure SQL Edge 如果可能，但 SQL Server 免费层很少；可能需要迁移到 SQLite/MySQL）。**注意**：迁移可能很复杂。我们将评估是坚持使用 SQL Server 还是进行迁移。鉴于 "TBAnti" 是 ASP.NET/SQL Server，保留 SQL Server 在逻辑上最简单，但云端成本较高。
- *细化*：用户提到本地已通过 "Docker-Azure" 部署。对于云端，我们可以使用容器服务或托管数据库。

### 2.2 查询界面
- 作为用户，我想要一个网页，在其中输入查询（例如 代码/编号）并从数据库获取结果。
- 作为用户，如果界面暴露敏感数据，我希望它受到保护（简单的身份验证）。
- 作为用户，我想了解这一切是如何工作的（连接字符串、API 调用、前端渲染）。

### 2.3 教育
- 作为学生，我希望获得解释技术决策的“知识点”。

## 3. 技术约束
- **旧技术栈**: ASP.NET (旧版), SQL Server。
- **新技术栈**:
    - **前端**: HTML/JS (简单，适合教学) 或 现代框架 (如果需要，但“简单”更适合学习基础)。用户说“前端是前期测试遗留内容”，暗示我们需要重建。
    - **后端**: Python (FastAPI) 非常适合教学，并且很容易在免费云层（如 Render/Vercel/Railway）上运行。
    - **数据库**: SQL Server (容器化) 或 迁移到 SQLite/MySQL 以获得更便宜的托管。
    - *决策*: 我们将以 **Python (FastAPI) + SQLite** 为目标（为了最简单的免费云部署）或者 **SQL Server**（如果数据量需要）。用户有 "TB" 数据。包含约 3.3 万行数据，SQLite 可以轻松处理。

## 4. 成功指标
- 本地查询界面可以与本地 Docker 数据库一起工作。
- 云端查询界面可以与云端数据库一起工作。
- 用户理解“架构”。
